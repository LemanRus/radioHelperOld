<MySpinnerOption>:
    font_size: app.app_button_size
    color: [0, 0, 0, 1] if self.text in ["white", "yellow", "gold", "silver"] else [1, 1, 1, 1]
    background_color: self.colors[self.text] if self.text in self.colors.keys() else [0.5, 0.5, 0.5, 1]
    background_normal: ""

<NominalsScreen>:
    name: "nominal"
    BoxLayout:
        orientation: "vertical"
        Button:
            text: "Резисторы"
            font_size: app.app_button_size
            text_size: self.size
            halign: "center"
            valign: "center"
            on_release: root.manager.current = "resistor"
        Button:
            text: "Конденсаторы"
            font_size: app.app_button_size
            text_size: self.size
            halign: "center"
            valign: "center"
            on_release: root.manager.current = "capacitor"
        Button:
            text: "На главный"
            font_size: app.app_button_size
            text_size: self.size
            halign: "center"
            valign: "center"
            on_release: root.manager.current = "main"

<ResistorScreen>:
    name: "resistor"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            Label:
                text: "Для резисторов сквозного монтажа выберите количество полос:"
                text_size: self.size
                halign: "center"
                valign: "center"
                font_size: app.app_font_size
                size_hint_x: 2
            Spinner:
                id: main_spinner
                text: '3'
                font_size: app.app_button_size
                values: '3', '4', '5', '6'
                on_parent: root.build_resistor(self.text)
                on_text: root.build_resistor(self.text)
                option_cls: "MySpinnerOption"
        BoxLayout:
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: "./img/resistor.png"
            id: resistor_grid
            size_hint_y: 1.5
            Label:
                size_hint_x: 0.25
            BoxLayout:
                id: resistor_bands
                size_hint_y: 0.75
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            Label:
                size_hint_x: 0.25

        Button:
            text: "Рассчитать!"
            font_size: app.app_button_size
            text_size: self.size
            halign: "center"
            valign: "center"
            on_release: root.calculate_resistor()
        Label:
            id: resistance
            text_size: self.size
            font_size: app.app_font_size
            halign: "center"
            valign: "center"
        Label:
            text: "Для SMD резистора впишите в поле ниже маркировку с резистора: "
            text_size: self.size
            halign: "center"
            valign: "center"
            font_size: app.app_font_size
            size_hint_y: 2
        BoxLayout:
            TextInput:
                id: smd_input
                font_size: app.app_font_size
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate: root.calculate_smd_resistor(self.text)
            Button:
                text: "Рассчитать"
                size_hint_x: 0.2
                font_size: app.app_button_size
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.calculate_smd_resistor(smd_input.text)
        Label:
            id: smd_resistance
            text_size: self.size
            font_size: app.app_font_size
            halign: "center"
            valign: "center"
        BoxLayout:
            Button:
                text: "Назад"
                font_size: app.app_button_size
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.manager.current = "nominal"
            Button:
                text: "На главный"
                font_size: app.app_button_size
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.manager.current = "main"

<CapacitorScreen>:
    name: "capacitor"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Введите маркировку керамического конденсатора сквозного монтажа:"
            text_size: self.size
            font_size: app.app_font_size
            halign: "center"
            valign: "center"
        BoxLayout:
            TextInput:
                id: capacitor_input
                font_size: app.app_font_size
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate: root.calculate_capacitor(self.text)
            Button:
                text: "Рассчитать"
                size_hint_x: 0.2
                font_size: app.app_button_size
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.calculate_capacitor(capacitor_input.text)
        Label:
            id: capacity
            text_size: self.size
            font_size: app.app_font_size
            halign: "center"
            valign: "center"
        Label:
            text: "Введите маркировку SMD конденсатора:"
            font_size: app.app_font_size
            text_size: self.size
            halign: "center"
            valign: "center"
        BoxLayout:
            TextInput:
                id: smd_capacitor_input
                font_size: app.app_font_size
                multiline: False
                halign: "center"
                padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
                on_text_validate: root.calculate_smd_capacitor(self.text)
            Button:
                text: "Рассчитать"
                font_size: app.app_button_size
                size_hint_x: 0.2
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.calculate_smd_capacitor(smd_capacitor_input.text)
        Label:
            id: smd_capacity
            text_size: self.size
            font_size: app.app_font_size
            halign: "center"
            valign: "center"
        BoxLayout:
            Button:
                text: "Назад"
                font_size: app.app_button_size
                on_release: root.manager.current = "nominal"
                text_size: self.size
                halign: "center"
                valign: "center"
            Button:
                text: "На главный"
                font_size: app.app_button_size
                text_size: self.size
                halign: "center"
                valign: "center"
                on_release: root.manager.current = "main"
